(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},106:function(e,t,n){e.exports=n(218)},176:function(e,t,n){},218:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),o=n.n(c),i=n(99),u=n.n(i),l=n(15),s=n(6),m=n(101),d=n.n(m),p=n(40),h=n(41),b=n(220),f=Object(b.a)((a={},Object(p.a)(a,"FETCH_CUSTOMERS",function(e,t){return Object(h.a)(t.payload)}),Object(p.a)(a,"UPDATE_CUSTOMER",function(e,t){var n=t.payload;return e.reduce(function(e,t){return t.id===n.id?[].concat(Object(h.a)(e),[n]):[].concat(Object(h.a)(e),[t])},[])}),Object(p.a)(a,"INSERT_CUSTOMER",function(e,t){return[].concat(Object(h.a)(e),[t.payload])}),Object(p.a)(a,"DELETE_CUSTOMER",function(e,t){return e.filter(function(e){return e.id!==t.payload})}),a),[]),E=n(222),O=Object(s.c)({customers:f,form:E.a}),v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,j=Object(s.e)(O,{},v(Object(s.a)(d.a))),y=(n(176),n(10)),C=n(11),S=n(13),k=n(12),g=n(14),w=n(18),N=n(30),B=(n(89),n(102)),T=n.n(B),D=function(e){return o.a.createElement("div",{className:"app-header"},o.a.createElement("h1",null,e.title))},A=function(e){var t=e.header,n=e.body;e.footer;return o.a.createElement("div",{className:"app-frame"},o.a.createElement(D,{title:t}),o.a.createElement("div",null,n),o.a.createElement("div",null,o.a.createElement("p",null,"Aplicaci\xf3n Simple de Clientes")))},U=function(e){var t=e.children;return o.a.createElement("div",{className:"customers-actions"},o.a.createElement("div",null,t))},_=function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(S.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).handleOnClick=function(){n.props.history.push("/customers")},n}return Object(g.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return o.a.createElement(A,{header:"Inicio",body:o.a.createElement("div",null,o.a.createElement("img",{src:T.a,className:"App-logo",alt:"logo"}),o.a.createElement(U,null,o.a.createElement("button",{onClick:this.handleOnClick},"Listado de clientes")))})}}]),t}(c.Component),P=Object(N.f)(_),M=function(e){var t=e.name,n=e.editAction,a=e.delAction,r=e.urlPath,c=e.dni;return o.a.createElement("div",{className:"customer-list-item"},o.a.createElement("div",{className:"field"},o.a.createElement(w.b,{to:"".concat(r).concat(c)},t)),o.a.createElement("div",{className:"field"},o.a.createElement(w.b,{to:"".concat(r).concat(c,"/edit")},n)),o.a.createElement("div",{className:"field"},o.a.createElement(w.b,{to:"".concat(r).concat(c,"/del")},a)))},R=function(e){var t=e.customers,n=e.urlPath;return o.a.createElement("div",{className:"customers-list"},t.map(function(e){return o.a.createElement(M,{key:e.dni,name:e.name,editAction:"Editar",delAction:"Eliminar",urlPath:n,dni:e.dni})}))},x=n(223),F="".concat("http://localhost:3001/","customers"),I=Object(x.a)("FETCH_CUSTOMERS",(r=F,function(){return fetch(r).then(function(e){return e.json()})})),L=n(104),H=function(e){return e.customers},J=Object(L.a)(function(e,t){return e.customers.find(function(e){return e.dni===t.dni})},function(e){return e}),V=function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(S.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).handleOnBack=function(){n.props.history.goBack()},n.handleAddNew=function(){n.props.history.push("/customers/new")},n.renderBody=function(e){return o.a.createElement("div",null,o.a.createElement(R,{customers:e,urlPath:"/customers/"}),o.a.createElement(U,null,o.a.createElement("button",{onClick:n.handleAddNew},"Nuevo Cliente"),o.a.createElement("button",{onClick:n.handleOnBack},"Volver")))},n}return Object(g.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){0===this.props.customers.length&&this.props.fetchCustomers()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(A,{header:"Listado de clientes",body:this.renderBody(this.props.customers)}))}}]),t}(c.Component);V.defaultProps={customers:[]};var q,W={fetchCustomers:I},X=Object(N.f)(Object(l.b)(function(e){return{customers:H(e)}},W)(V)),z=n(221),$=n(219),G=function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(S.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).renderField=function(e){var t=e.input,a=e.meta,r=e.type,c=e.label,i=e.withFocus,u=e.id;return o.a.createElement("div",null,o.a.createElement("label",{htmlFor:u},c),o.a.createElement("input",Object.assign({id:u,ref:i&&function(e){return n.txt=e}},t,{type:r||"text"})),a.touched&&a.error&&o.a.createElement("span",null,a.error))},n.isNumber=function(e){return isNaN(Number(e))&&"El campo debe ser un n\xfamero"},n.toUpperCase=function(e){return e&&e.toUpperCase()},n.toNumber=function(e){return e&&Number(e)},n}return Object(g.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.txt&&this.txt.focus()}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting,a=e.onBack,r=e.pristine,c=e.submitSucceeded;return o.a.createElement("div",null,o.a.createElement("h2",null,"Datos del cliente"),o.a.createElement("form",{onSubmit:t},o.a.createElement(z.a,{withFocus:!0,id:"name",name:"name",component:this.renderField,type:"text",label:"Nombre:",parse:this.toUpperCase}),o.a.createElement(z.a,{id:"dni",name:"dni",component:this.renderField,type:"text",label:"DNI:"}),o.a.createElement(z.a,{id:"age",name:"age",component:this.renderField,type:"number",validate:this.isNumber,label:"Edad:",parse:this.toNumber}),o.a.createElement(U,null,o.a.createElement("button",{type:"submit",disabled:r||n},"Aceptar"),o.a.createElement("button",{type:"button",disabled:n,onClick:a},"Cancelar")),o.a.createElement(N.a,{when:!r&&!c,message:"Se perder\xe1n los datos si continua"})))}}]),t}(c.Component),K=Object($.a)({form:"CustomerEdit",validate:function(e){var t={};return e.name||(t.name="Este campo es requerido"),e.dni||(t.dni="Este campo es requerido"),e.age||(t.age="Este campo es requerido"),t}})(G),Q=(q=K,function(e){function t(){return Object(y.a)(this,t),Object(S.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return o.a.createElement(q,Object.assign({},this.props,{initialValues:this.props,enableReinitialize:!0}))}}]),t}(c.Component)),Y=function(e){var t=e.id,n=e.name,a=e.dni,r=e.age,c=e.onBack,i=e.isDelele,u=e.onDelete;return o.a.createElement("div",null,o.a.createElement("div",{className:"customer-data"},o.a.createElement("h2",null,"Datos del cliente"),o.a.createElement("div",null,o.a.createElement("strong",null,"Nombre"),o.a.createElement("i",null,n)),o.a.createElement("div",null,o.a.createElement("strong",null,"DNI"),o.a.createElement("i",null,a)),o.a.createElement("div",null,o.a.createElement("strong",null,"Edad"),o.a.createElement("i",null,r))),o.a.createElement(U,null,o.a.createElement("button",{type:"button",onClick:c},"Volver"),i&&o.a.createElement("button",{type:"button",onClick:function(){u(t)}},"Eliminar")))},Z=Object(x.a)("UPDATE_CUSTOMER",function(e,t){return function(e,t,n){return function(){return fetch("".concat(e,"/").concat(t),{method:"PUT",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json"})}).then(function(e){return e.json()}).then(function(e){return e.error?Promise.reject(e.validation):e})}}(F,e,t)()}),ee=Object(x.a)("DELETE_CUSTOMER",function(e){return function(e,t){return function(){return fetch("".concat(e,"/").concat(t),{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then(function(e){return e.json()}).then(function(e){return e.error?Promise.reject(e.validation):t})}}(F,e)()}),te=n(105),ne=function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(S.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).handleOnDelete=function(e){return n.props.deleteCustomer(e).then(function(e){if(e.error)throw new te.a(e.payload);n.props.history.goBack()})},n.handleOnBack=function(){n.props.history.goBack()},n.handleOnSubmitSuccess=function(){n.props.history.goBack()},n.handleOnSubmit=function(e){var t=e.id;return n.props.updateCustomer(t,e).then(function(e){if(e.error)throw new te.a(e.payload)})},n.renderCustomerControl=function(e,t){var a=e?Q:Y;return o.a.createElement(a,Object.assign({},n.props.customer,{onSubmit:n.handleOnSubmit,onSubmitSuccess:n.handleOnSubmitSuccess,onBack:n.handleOnBack,isDelele:!!t,onDelete:n.handleOnDelete}))},n.renderBody=function(){return o.a.createElement(N.b,{path:"/customers/:dni/edit",children:function(e){var t=e.match;return o.a.createElement(N.b,{path:"/customers/:dni/del",children:function(e){var a=e.match;return n.renderCustomerControl(t,a)}})}})},n}return Object(g.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.customer||this.props.fetchCustomers()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(A,{header:"Cliente ".concat(this.props.dni),body:this.renderBody()}))}}]),t}(c.Component),ae={fetchCustomers:I,updateCustomer:Z,deleteCustomer:ee},re=Object(N.f)(Object(l.b)(function(e,t){return{customer:J(e,t)}},ae)(ne)),ce=Object(x.a)("INSERT_CUSTOMER",function(e){return(t=F,n=e,function(){return fetch("".concat(t),{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json"})}).then(function(e){return e.json()}).then(function(e){return e.error?Promise.reject(e.validation):e})})();var t,n}),oe=function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(S.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).handleOnBack=function(){n.props.history.goBack()},n.handleOnSubmitSuccess=function(){n.props.history.goBack()},n.handleOnSubmit=function(e){return n.props.insertCustomer(e).then(function(e){if(e.error)throw new te.a(e.payload)})},n.renderBody=function(e){return o.a.createElement(Q,Object.assign({},n.props.customer,{onSubmit:n.handleOnSubmit,onSubmitSuccess:n.handleOnSubmitSuccess,onBack:n.handleOnBack}))},n}return Object(g.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(A,{header:"Creaci\xf3n de nuevo cliente",body:this.renderBody()}))}}]),t}(c.Component);oe.defaultProps={};var ie={insertCustomer:ce},ue=Object(N.f)(Object(l.b)(function(e){return{}},ie)(oe)),le=function(e){function t(){return Object(y.a)(this,t),Object(S.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return o.a.createElement(w.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(N.b,{exact:!0,path:"/",component:P}),o.a.createElement(N.b,{exact:!0,path:"/customers",component:X}),o.a.createElement(N.d,null,o.a.createElement(N.b,{path:"/customers/new",component:ue}),o.a.createElement(N.b,{path:"/customers/:dni",render:function(e){return o.a.createElement(re,{dni:e.match.params.dni})}}))))}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=o.a.createElement(l.a,{store:j},o.a.createElement(le,null));u.a.render(se,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},89:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.5eb09d0f.chunk.js.map